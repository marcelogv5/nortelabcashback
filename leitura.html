<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Entrega da Cortesia</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>
  <div class="container">
    <h2>Confirmar Entrega</h2>
    <div id="detalhes"></div>
    <button id="confirmar">Confirmar Entrega</button>
    <div id="mensagem" style="margin-top: 10px; font-weight: bold;"></div>
  </div>
  <script>
    function formatarReal(v) {
      return "R$ " + v.toFixed(2).replace(".", ",");
    }

    const params = new URLSearchParams(atob(new URLSearchParams(window.location.search).get("d")));
    const dados = Object.fromEntries(params.entries());

    const detalhes = document.getElementById("detalhes");
    detalhes.innerHTML = `
      <p><strong>Nome:</strong> ${dados.nome}</p>
      <p><strong>Requisição:</strong> ${dados.req}</p>
      <p><strong>Itens:</strong> ${dados.itens}</p>
      <p><strong>Valor usado:</strong> ${formatarReal(parseFloat(dados.usado))}</p>
      <p><strong>Saldo:</strong> ${formatarReal(parseFloat(dados.sobra))}</p>
    `;
